## 문제
<https://www.acmicpc.net/problem/1513>

## 풀이
N,M 범위 어마어마한 경우의 수를 생각하고 완전 탐색은 꿈도 꾸지 말것. 특출한 알고리즘이 있지 않은 한 무조건 DP 메모이제이션으로 풀려고 시도해야 한다.

이렇게 새로운(나에게 새로운..) 유형의 DP를 만났을 때 DP 배열의 사용을 위해 state를 잘 설정해야 한다.
DP[y][x][오락실 총 방문 수][최근 방문 오락실 번호] 로 설정하고 문제 풀이를 시도하면 그렇게 어렵지 않게 풀 수 있다. 중첩 반복문을 통해 입력으로 받은 Map을 탐색한다.
> **1. 오락실인 경우**
DP[i][j][이전까지 총 방문 수+1][현재 오락실 번호] = DP[i-1][j][총 방문 수][이전 방문 오락실 번호] + DP[i][j-1][총 방문 수][이전 방문 오락실 번호]

이 때 [총 방문 수] 와 [이전 방문 오락실 번호]도 중첩 반복문을 통해 모든 가능성을 확인해야 한다. [최근 방문 오락실 번호]의 범위는 [현재 오락실 번호]보다 작은 경우이고 [총 방문 수]는 [최근 방문 오락실 번호]보다 작거나 같은 경우이다.

> **2. 오락실이 아닌 경우**
DP[i][j][이전까지 총 방문 수][이전 방문 오락실 번호] = DP[i-1][j][총 방문 수][이전 방문 오락실 번호] + DP[i][j-1][총 방문 수][이전 방문 오락실 번호]

[총 방문 수]가 늘지 않고 [이전 방문 오락실 번호]가 바뀌지 않는 것을 제외하고 오락실인 경우와 크게 다르지 않다.

